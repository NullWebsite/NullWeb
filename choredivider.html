<html>
	<head>
		<meta charset="UTF-8" />
		<title>Chore Divider</title>
		<link rel="stylesheet" href="styles.css" />
		<script src="/facts.js"></script>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				const chores = ["Dishes", "Vacuum everywhere", "Laundry", "Straighten up little bathroom", "Clean living room", "Straighten up big bathroom", "Sweep porch/entryway", "Organize shoes", "Clean microwave & clean out fridge", "Wipe down kitchen cabinets", "Take out trash (including bathroom cans)", "Restock toilet paper and paper towels", "Clean couches", "Clean fireplace", "Disinfect light switches and door handles", "Refill soap dispensers", "Sweep off path to the porch", "Organize kitchen cabinets", "Clean off outside of fridge", "Clean off the den TV holder", "Clean bugs out of light fixtures", "Organize chargers everywhere", "Feed dogs", "Dust", "Walk dogs", "Brush dogs outside", "Clean trampoline very well and all kids have to play on it"];
				const weeklyChores = ["Clean little bathroom", "Clean big bathroom", "Wash all bedsheets and couch blankets", "Clean windows", "Mop", "Clean trash cans"];

				const peopleNames = ["Marty", "Marleigh Kate", "Marci"];

				function shuffle(array) {
					for (let i = array.length - 1; i > 0; i--) {
						const j = Math.floor(Math.random() * (i + 1));
						[array[i], array[j]] = [array[j], array[i]];
					}
				}

				function divideChores(choresArray, weeklyArray) {
					shuffle(choresArray);
					shuffle(weeklyArray);

					const people = [[], [], []]; // for daily chores
					const weekly = [[], [], []]; // for weekly chores

					// Assign daily chores (27 → 9 each)
					choresArray.forEach((chore, index) => {
						people[index % 3].push(chore);
					});

					// Assign weekly chores (6 → 2 each)
					weeklyArray.forEach((chore, index) => {
						weekly[index % 3].push(chore);
					});

					return { daily: people, weekly: weekly };
				}

				function displayResults(divided) {
					const container = document.getElementById("results");
					container.innerHTML = "";

					for (let i = 0; i < 3; i++) {
						const personDiv = document.createElement("div");
						const dailyList = divided.daily[i].map((chore) => "<li>" + chore + "</li>").join("");
						const weeklyList = divided.weekly[i].map((chore) => "<li>" + chore + "</li>").join("");

						personDiv.innerHTML =
							"<h2>" + peopleNames[i] + "</h2>" +
							"<h3>Daily Chores</h3><ul>" + dailyList + "</ul>" +
							"<h3>Weekly Chores</h3><ul>" + weeklyList + "</ul>";

						container.appendChild(personDiv);
					}
				}

				document.getElementById("divideBtn").addEventListener("click", function () {
					const result = divideChores([...chores], [...weeklyChores]);
					displayResults(result);
				});
			});
		</script>
	</head>
	<body>
		<center>
			<h1 id="pagetitle">Chore Divider</h1>
			<p id="homepageFact" style="cursor: pointer;">Click me for a random fact!</p>
			<div class="searchContainer">
				<div class="searchRow">
					<button id="divideBtn">Divide Chores</button>
				</div>
				<div id="results" class="searchContainer"></div>
			</div>
		</center>
	</body>
</html>